<app-header></app-header>
<ion-content> 
  <div style=" margin-top: 5px;">  
    <ion-label class="text-center">1/5</ion-label>
    <ion-progress-bar [value]= "0.2" 
                      [buffer]= "0.2"
                      color="light">       
    </ion-progress-bar>    
  </div>
  
  <ion-card>                  
    <ion-img class="card-img" src="../../../assets/icon/greenproducer-310.png" alt=""></ion-img>                                        
    <label class="label"><h6>{{"INFO_FINCA" | translate}}</h6></label>
  </ion-card>
  <!-- <hr>   -->      
  
  <ion-grid class="ion-no-padding" mode= "ios">
    <ion-row class="ion-no-padding">
      <ion-col class="ion-no-padding">       
        <form [formGroup]="formRegistro" (ngSubmit)="guardar()" >
          <ion-item>
            <ion-input inputmode="text"
                      autocapitalize
                      formControlName="nombre_finca"
                      class="ion-no-padding"
                      placeholder='{{ "NOMBRE_FINCA"| translate}}'
                      >
            </ion-input>
          </ion-item>                                      
          <div *ngFor="let error of errorMensaje.nombre_finca">
            <ng-container *ngIf="nombre_finca.hasError(error.type) && (nombre_finca.dirty || nombre_finca.touched)">
              <small class="error-message">{{error.message}}</small>
            </ng-container>                    
          </div>
          <ion-item>
            <ion-select class="custom-options" 
                        (ionChange)= "capturaP();"
                        formControlName ="pais"
                        placeholder='{{ "SELECCIONE_PAIS"| translate}}'>
                        <ion-select-option *ngFor="let pais of listaPais" value="{{pais.pais}}">{{pais.pais}}</ion-select-option>
            </ion-select>
          </ion-item>
          <div *ngFor="let error of errorMensaje.pais">
            <ng-container *ngIf="pais.hasError(error.type) && (pais.dirty || pais.touched)">
                <small class="error-message">{{error.message}}</small>
            </ng-container>                    
          </div>
          <ion-item>
            <ion-select class="custom-options" 
                        (ionChange)= "capturaD();"
                        formControlName = departamento
                        placeholder='{{ "SELECCIONE_DEPTO"| translate}}'>
                        <ion-select-option *ngFor="let departamento of departamentos" value="{{departamento.Departamento_Provincia}}">{{departamento.Departamento_Provincia}}</ion-select-option>
            </ion-select>
          </ion-item>
          <div *ngFor="let error of errorMensaje.departamento">
            <ng-container *ngIf="departamento.hasError(error.type) && (departamento.dirty || departamento.touched)">
                <small class="error-message">{{error.message}}</small>
            </ng-container>                    
          </div>
          <ion-item>
            <ion-select class="custom-options" 
                        (ionChange)= "capturaM();"
                        formControlName = municipio
                        placeholder='{{ "SELECCIONE_MUNICIPIO"| translate}}'>
                        <ion-select-option *ngFor="let municipio of municipios" value="{{municipio.Municipio_Provincia_Canton}}">{{municipio.Municipio_Provincia_Canton}}</ion-select-option>
            </ion-select>
          </ion-item>
          <div *ngFor="let error of errorMensaje.municipio">
            <ng-container *ngIf="municipio.hasError(error.type) && (municipio.dirty || municipio.touched)">
                <small class="error-message">{{error.message}}</small>
            </ng-container>                    
          </div>
          <div>
            <ion-label class="lbldistancia">{{ "DISTANCIA_FINCA"| translate}}</ion-label>
            <ion-input type="text"
                        autocapitalize
                        formControlName="distancia_senal"
                        class="ion-no-padding">
            </ion-input>
            <!-- <textarea autocapitalize
                      formControlName="distancia_senal"
                      class="ion-no-padding"
                      placeholder=''>
            </textarea> -->
          </div>
          <ion-item>
            <ion-label>Desea compartir su ubucaci√≥n?</ion-label>
            <ion-toggle slot="end" 
                        color="success"
                        (ionChange)="getGeo($event);">
            </ion-toggle>
          </ion-item>
          <!-- <ion-item>
            <ion-select class="custom-options" 
                        (ionChange)= "capturaV();"
                        formControlName = vereda
                        placeholder='{{ "SELECCIONE_VEREDA"| translate}}'>
                        <ion-select-option *ngFor="let vereda of veredas" value="{{vereda.Vereda_Distrito_Parroquia}}">{{vereda.Vereda_Distrito_Parroquia}}</ion-select-option>
            </ion-select>
          </ion-item> -->        
          <ion-button expand="block" shape="round" type="submit" color="success">
            {{"GUARDAR" | translate}}
          </ion-button>   
        </form>
      </ion-col>
    </ion-row>
  </ion-grid> 
  <app-fotter></app-fotter>

</ion-content>