<app-header></app-header>

<ion-content>
  <ion-card class="cabecera">
    <ion-img class="card-img" src="../../../assets/icon/greenproducer-310.png" alt=""></ion-img>                                        
  <label class="label"><h6>{{"UNIDAD_PRODUCTIVA" | translate}}</h6> <h6> Nueva Finca</h6></label>
  </ion-card>
  <hr>

  <!-- falta el titulo de la vista aquí -->
  <div color="light">
    <ion-icon color="light" slot="start" name="wifi"></ion-icon>
    <ion-label color="light" style="margin-left: 1rem; margin-right: 4rem;">Unidad Funcional Agricola</ion-label>
    <ion-icon color="light"  slot="end" name="help-circle-outline"></ion-icon>
  </div>
  <ion-card class="ion-no-padding">  
    <ion-grid class="ion-no-padding">
      <ion-row class="ion-no-padding">
        <ion-col class="ion-no-padding">       
          <form [formGroup]="formRegistro" (ngSubmit)="guardar()" >
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "ACTIVIDAD_PRODUCTO"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="actividad_desarrollada"
                        class="ion-no-padding"
                        
                        >
              </ion-input>
            </ion-item>                                      
            <div *ngFor="let error of errorMensaje.actividad_desarrollada">
              <ng-container *ngIf="actividad_desarrollada.hasError(error.type) && (actividad_desarrollada.dirty || actividad_desarrollada.touched)">
                <small class="error-message">{{error.message}}</small>
              </ng-container>                    
            </div>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "TIPO_UNIDAD"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          formControlName ="tipo_unidad_agricola"
                         >
                          <ion-select-option *ngFor="let tipoUF of listaTipoUF" value="{{tipoUF.tipo_unidad_agricola}}">{{tipoUF.tipo_unidad_agricola}}</ion-select-option>
              </ion-select>
            </ion-item>
            <div *ngFor="let error of errorMensaje.tipo_unidad_agricola">
              <ng-container *ngIf="tipo_unidad_agricola.hasError(error.type) && (tipo_unidad_agricola.dirty || tipo_unidad_agricola.touched)">
                  <small class="error-message">{{error.message}}</small>
              </ng-container>                    
            </div>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "NOMBRE_UFUNCIONAL"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="nombre_unidadF"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>                                      
            <div *ngFor="let error of errorMensaje.nombre_unidadF">
              <ng-container *ngIf="nombre_unidadF.hasError(error.type) && (nombre_unidadF.dirty || nombre_unidadF.touched)">
                <small class="error-message">{{error.message}}</small>
              </ng-container>                    
            </div>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "AREA_UFUNCIONAL"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="area_superficie"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>                                      
            <div *ngFor="let error of errorMensaje.area_superficie">
              <ng-container *ngIf="area_superficie.hasError(error.type) && (area_superficie.dirty || area_superficie.touched)">
                <small class="error-message">{{error.message}}</small>
              </ng-container>                    
            </div>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "PRACTICAS_AGRICOLAS"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          formControlName ="practicas_agricolas"
                          >
                          <ion-select-option *ngFor="let practicaUF of listaPracticaUF" value="{{practicaUF.practicas_agricolas}}">{{practicaUF.practicas_agricolas}}</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "PENDIENTE_TERRENO"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          formControlName ="pendiente_terreno"
                          >
                          <ion-select-option *ngFor="let pendienteUF of listaPendienteUF" value="{{pendienteUF.pendiente_terreno}}">{{pendienteUF.pendiente_terreno}}</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "PROFUNDIDAD_SUELO"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="profundidad_suelo"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "HUMEDAD_SUELO"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          formControlName ="humedad_suelo"
                          >
                          <ion-select-option *ngFor="let humedadUF of listaHumedadUF" value="{{humedadUF.humedad_suelo}}">{{humedadUF.humedad_suelo}}</ion-select-option>
              </ion-select>
            </ion-item>
            <div>
              <ion-label>{{ "FOTO_LOTE"| translate}}</ion-label>
              <p (click)="mostrarModalEmergente1()">{{"HELP_BIO" | translate}}</p>
              <ion-input type="file"
                        formControlName="foto_lote"
                        class="input"
                        >
              </ion-input>
            </div>

            <div>
              <ion-label>{{ "FOTO_TERRENO"| translate}}</ion-label>
              <p (click)="mostrarModalEmergente2()">{{"HELP_BIO" | translate}}</p>
              <ion-input type="file"
                        formControlName="foto_suelo"
                        class="input"
                        >
              </ion-input>
            </div>

            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "CONOCE_PORCENTAJE"| translate}}</ion-label>
              <ion-select class="custom-options"
                          formControlName="conoce_porcentaje" 
                          (ionChange)= "conoceArcilla($event.detail.value);"
                          >
                          <ion-select-option value="Si">Sí</ion-select-option>
                          <ion-select-option value="No">No</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item [class.disabled] = "!activaOrganica" class="ion-no-padding">
              <ion-label position="floating">{{ "ARCILLA_TERRENO"| translate}}</ion-label>
              <ion-input inputmode="text"                        
                        autocapitalize
                        formControlName="arcilla"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>
            <ion-item [class.disabled] = "!activaOrganica" class="ion-no-padding">
              <ion-label position="floating">{{ "LIMO_TERRENO"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="limo"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>
            <ion-item [class.disabled] = "!activaOrganica" class="ion-no-padding">
              <ion-label position="floating">{{ "ARENA_TERRENO"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="arena"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "CONOCE_MOS"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          (ionChange)= "conoceMos($event.detail.value);"
                          >
                          <ion-select-option value="Si">Sí</ion-select-option>
                          <ion-select-option value="No">No</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item [class.disabled] = "!activaMos" class="ion-no-padding">
              <ion-label position="floating">{{ "PORCENTAJE_MOS"| translate}}</ion-label>
              <ion-input inputmode="text"
                        autocapitalize
                        formControlName="porcentaje_mos"
                        class="ion-no-padding"
                        >
              </ion-input>
            </ion-item>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "METODO_PH"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          formControlName="metodo_ph"
                          >
                          <ion-select-option value="Casero">Casero</ion-select-option>
                          <ion-select-option value="Laboratorio">Laboratorio</ion-select-option>
              </ion-select>
            </ion-item>
            <div>
              <p (click)="mostrarModalEmergente3()">{{"HELP_CASERO" | translate}}</p>
            </div>
            <ion-item class="ion-no-padding">
              <ion-label position="floating">{{ "CONOCE_PH"| translate}}</ion-label>
              <ion-select class="custom-options" 
                          (ionChange)= "conocePH($event.detail.value);"
                         >
                          <ion-select-option value="Si">Sí</ion-select-option>
                          <ion-select-option value="No">No</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item [class.disabled] = "!activaPH" class="ion-no-padding">
              <ion-select class="custom-options" 
                          (ionChange)= "conocePH();"
                          placeholder='{{ "CUAL_PH"| translate}}'>
                          <ion-select-option value="{{menorque}}5.5 muy ácido">{{mayorque}}5.5 muy ácido</ion-select-option>
                          <ion-select-option value="5.5 - 6.5 ácido">5.5 - 6.5 ácido</ion-select-option>
                          <ion-select-option value="6.5 - 7.5 neutro">6.5 - 7.5 neutro</ion-select-option>
                          <ion-select-option value="{{mayorque}}7.5 básico">{{mayorque}}7.5 básico</ion-select-option>
              </ion-select>
            </ion-item>
                
            <ion-button expand="block" shape="round" type="submit" color="success">
              {{"GUARDAR" | translate}}
            </ion-button>   
          </form>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>
</ion-content>
<app-fotter></app-fotter>
